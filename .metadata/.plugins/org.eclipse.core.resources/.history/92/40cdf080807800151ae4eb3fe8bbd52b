package Park;

import java.sql.Date;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Scanner;

public class Parking {
	
	public  void diffTime() throws Exception {
		
		SimpleDateFormat sdf=new SimpleDateFormat("yyyyMMdd");
        String str="20110823";
        Date dt=(Date) sdf.parse(str);
        Calendar rightNow = Calendar.getInstance();
        rightNow.setTime(dt);
        rightNow.add(Calendar.YEAR,-1);//日期减1年
        rightNow.add(Calendar.MONTH,3);//日期加3个月
        rightNow.add(Calendar.DAY_OF_YEAR,10);//日期加10天
        Date dt1=(Date) rightNow.getTime();
        String reStr = sdf.format(dt1);
        System.out.println(reStr);
        
        
		int h1 ,h2 ,m1 ,m2 ,hour ,minute ,time ,money=0;
        Scanner scanner = new Scanner(System.in);

        System.out.println("請輸入停車入場時間(24小時制) 現在幾時：");
        h1 = scanner.nextInt(); 
        System.out.println("請輸入停車入場時間(24小時制) 現在幾分：");
        m1 = scanner.nextInt(); 

        System.out.println("請輸入停車出場時間(24小時制) 現在幾時：");
        h2 = scanner.nextInt(); 
        System.out.println("請輸入停車出場時間(24小時制) 現在幾分：");
        m2 = scanner.nextInt(); 

        time=60*h2+m2-60*h1-m1; 
        hour = h2 - h1;
        minute = m2 - m1;
        if(minute < 0){
        	minute = minute + 60;
        	hour = hour - 1;
        }
        
        System.out.println(time);
        if(time < 239 ){
        	money = time/60 * 20; //餘數＋１問題
        	System.out.print("停放時間: " + hour + "時" + minute + "分" + "   一共:"+ money + "元");
        }else if (time >= 240){
        	money = time/240*50;
        	time = time - time/240 * 240;
        	money = money + time/60 * 20;
        	System.out.print("停放時間: " + hour + "時" + minute + "分" + "   一共:"+ money + "元");
        }else if (time >= 1440){
        	money = time/1440*150;
        	time = time - time/1440 * 1440;
        	//money = money + time/240*50 + time/60 * 20;
        	System.out.print("停放時間: " + hour + "時" + minute + "分" + "   一共:"+ money + "元");
        }
	}
}
